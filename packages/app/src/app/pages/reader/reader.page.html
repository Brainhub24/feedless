<ion-header>
  <app-toolbar> </app-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid>
    <ion-row>
      <ion-col size-xs="9">
        <div *ngIf="loading" style="display: flex; height: 100px">
          <ion-spinner style="margin: auto"></ion-spinner>
        </div>
        <ng-container *ngIf="!loading && article">
          <div class="narrator" [ngClass]="{ playing: playing }" #narrator>
            <!--      <p>-->
            <!--        <a [routerLink]="'/source/' + article.source_url">Source</a>-->
            <!--      </p>-->
            <a [href]="article.url">{{ article.url }}</a>
            <h1>
              <a [href]="article.url">{{ title }}</a>
            </h1>
            <div
              style="
                width: 50px;
                border: 2px solid var(--ion-text-color);
                margin-bottom: 20px;
              "
            ></div>

            <div
              class="ion-padding-top"
              *ngIf="article.enclosure"
              [innerHTML]="getEnclosure()"
            ></div>
            <div class="ion-margin-top" [innerHTML]="content"></div>
          </div>

          <!--    <div class="text-track" *ngIf="currentTextTrack && subtitles">-->
          <!--      <h2>-->
          <!--        <span>{{ currentTextTrack }}</span>-->
          <!--      </h2>-->
          <!--    </div>-->

          <!--    <div class="follow-cursor" *ngIf="!followCursor && lostCursor">-->
          <!--      <ion-button color="dark" (click)="scrollToCursor()"-->
          <!--        >Go to current position</ion-button-->
          <!--      >-->
          <!--    </div>-->

          <!--    <div-->
          <!--      style="-->
          <!--        position: fixed;-->
          <!--        bottom: 0;-->
          <!--        left: 0;-->
          <!--        width: 100%;-->
          <!--        background: white;-->
          <!--      "-->
          <!--    >-->
          <!--      <div class="progress-bar" style="position: relative; height: 5px">-->
          <!--        <div-->
          <!--          style="-->
          <!--            height: 5px;-->
          <!--            background: #cccccc;-->
          <!--            position: absolute;-->
          <!--            transition: width linear 300ms;-->
          <!--          "-->
          <!--          [ngStyle]="{ 'width.%': scrollPosition * 100 }"-->
          <!--        ></div>-->
          <!--        <div-->
          <!--          style="-->
          <!--            height: 5px;-->
          <!--            background: black;-->
          <!--            position: absolute;-->
          <!--            transition: width linear 300ms;-->
          <!--          "-->
          <!--          [ngStyle]="{ 'width.%': progress * 100 }"-->
          <!--        ></div>-->
          <!--      </div>-->

          <!--      <ion-toolbar-->
          <!--        style="background: var(--ion-toolbar-background)"-->
          <!--        *ngIf="canReadOutLoud"-->
          <!--      >-->
          <!--        <div>-->
          <!--          <ion-button-->
          <!--            [disabled]="!canPrevious()"-->
          <!--            (click)="previous()"-->
          <!--            color="light"-->
          <!--          >-->
          <!--            <ion-icon name="play-back"></ion-icon>-->
          <!--          </ion-button>-->
          <!--          <ion-button (click)="togglePlayback()" color="light">-->
          <!--            <ion-icon *ngIf="!playing" name="play"></ion-icon>-->
          <!--            <ion-icon *ngIf="playing" name="pause"></ion-icon>-->
          <!--          </ion-button>-->
          <!--          <ion-button color="light" [disabled]="!canNext()" (click)="next()">-->
          <!--            <ion-icon name="play-forward"></ion-icon>-->
          <!--          </ion-button>-->
          <!--          <ion-button (click)="toggleSubtitles()" color="light">-->
          <!--            <ion-icon name="text-outline"></ion-icon>-->
          <!--          </ion-button>-->
          <!--          <ion-button (click)="toggleFollowCursor()" color="light">-->
          <!--            <ion-icon name="arrow-down-circle-outline"></ion-icon>-->
          <!--          </ion-button>-->
          <!--        </div>-->
          <!--      </ion-toolbar>-->
          <!--    </div>-->
        </ng-container>
      </ion-col>
      <ion-col size-xs="3">
        <ion-list>
          <ion-item-divider>
            <ion-label> Related </ion-label>
            <ion-button
              href="./related"
              slot="end"
              size="small"
              color="light"
            >
              See All
            </ion-button>
          </ion-item-divider>

          <ion-item><ion-label>A1</ion-label></ion-item>
          <ion-item><ion-label>A2</ion-label></ion-item>

          <ion-item-divider>
            <ion-label>Featured In</ion-label>
            <ion-button href="./lists" slot="end" size="small" color="light">
              See All
            </ion-button>
          </ion-item-divider>

          <ion-item><ion-label>B1</ion-label></ion-item>
          <ion-item><ion-label>B2</ion-label></ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="integrateArticle()">
        <ion-icon name="star-outline" class="ion-padding-end"></ion-icon>
      </ion-button>

      <!--      <ion-button (click)="renderFulltext()"-->
      <!--        ><ion-icon name="book-outline"></ion-icon>-->
      <!--      </ion-button>-->
      <!--      <ion-button-->
      <!--        (click)="toggleBetterRead()"-->
      <!--        [color]="betterRead ? 'primary' : ''"-->
      <!--        ><strong>B</strong>R-->
      <!--      </ion-button>-->
    </ion-buttons>

    <ion-buttons>
      <ion-button
        *ngIf="article?.comment_feed_url"
        [href]="article?.comment_feed_url"
        >Comments</ion-button
      >
      <ion-button
        [href]="article?.url"
        target="_blank"
        referrerpolicy="no-referrer"
        >Visit Website</ion-button
      >
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button (click)="showSettings()">
        <ion-icon name="ellipsis-vertical"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
