<ion-header translucent>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="dismissModal()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>
      <span>Feed</span>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button [href]="'/feed/'+feed.id+'/atom'" color="light">
        <ion-icon name="logo-rss"></ion-icon>
      </ion-button>
      <ion-button color="primary" fill="solid" (click)="dismissModal()">
        Save
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content fullscreen>
  <ion-list>
    <ion-item>
      <ion-label>
        <h3>
          {{ feed.title || "Unspecified" }}
          {{ getLastUpdatedAt(feed.lastUpdatedAt) }}
        </h3>
        <p>{{ feed.description }}</p>
      </ion-label>
      <ion-button
        size="small"
        slot="end"
        fill="solid"
        color="light"
        *ngIf="!feed.broken"
      >
        Show Events
      </ion-button>
      <ion-button
        size="small"
        slot="end"
        color="danger"
        fill="solid"
        *ngIf="feed.broken"
      >
        Show Errors
      </ion-button>
    </ion-item>
    <ion-item>
      <ion-label>
        <h3>
          <a
            [href]="feed.home_page_url"
            target="_blank"
            referrerpolicy="no-referrer"
            >Homepage</a
          >
          -
          <a [href]="feed.feed_url" target="_blank" referrerpolicy="no-referrer"
            >Feed</a
          >
        </h3>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <h3>Authentication</h3>
        <p>Articles harvested over time</p>
      </ion-label>
      <ion-button>Add Authentication</ion-button>
    </ion-item>

    <ion-item>
      <ion-label>
        <h3>Permissions</h3>
        <p>Define who can use this feed</p>
      </ion-label>
      <ion-select
        interface="action-sheet"
        placeholder="Choose"
        [value]="permissions"
      >
        <ion-select-option value="public">everyone (public)</ion-select-option>
        <ion-select-option value="private">you (private)</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>
        <h3>Harvest</h3>
        <p>Articles harvested over time</p>
      </ion-label>
      <ion-select
        interface="action-sheet"
        placeholder="Choose"
        [value]="harvestInterval"
      >
        <ion-select-option value="5min">every 5 min</ion-select-option>
        <ion-select-option value="default">default</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>
        <h3>Retention</h3>
        <p>Articles harvested over time</p>
      </ion-label>
      <ion-select
        interface="action-sheet"
        placeholder="Choose"
        [value]="harvestInterval"
      >
        <ion-select-option value="5min">forever</ion-select-option>
        <ion-select-option value="5min">head</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item-divider> Latest Articles </ion-item-divider>
    <ion-item>
      <ion-label>
        <h3>History</h3>
        <p>Articles harvested over time</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
