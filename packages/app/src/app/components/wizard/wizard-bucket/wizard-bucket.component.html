<ion-accordion-group
  style="flex: 1"
  value="existing"
  (ionChange)="handleChange($event)"
>
  <ion-accordion value="existing" toggle-icon-slot="start">
    <ion-item slot="header" [disabled]="!hasBuckets()">
      <ion-label>
        <strong> Your Buckets</strong>
      </ion-label>
    </ion-item>
    <div slot="content" style="min-height: 200px">
      <ion-item
        *ngFor="let bucket of existingBuckets"
        (click)="useExistingBucket(bucket)"
        [color]="isSelected(bucket) ? 'dark' : undefined"
        [button]="true"
      >
        <ion-icon
          *ngIf="isSelected(bucket)"
          name="radio-button-on-outline"
          slot="start"
        ></ion-icon>
        <ion-icon
          *ngIf="!isSelected(bucket)"
          name="radio-button-off-outline"
          slot="start"
        ></ion-icon>
        <ion-label
          >{{ bucket.title }}
          <ion-chip>{{ label(bucket.visibility) }}</ion-chip></ion-label
        >
      </ion-item>
    </div>
  </ion-accordion>

  <ion-accordion [value]="accordionValueCreate" toggle-icon-slot="start">
    <ion-item slot="header">
      <ion-label>
        <strong> New Bucket </strong>
      </ion-label>
    </ion-item>
    <div slot="content">
      <app-bucket-edit
        (bucketData)="handleCreateBucket($event)"
        [bucket]="getBucketFormData()"
      ></app-bucket-edit>
    </div>
  </ion-accordion>
</ion-accordion-group>
