<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-title>
      <ion-row>
        <ion-col size="3" style="align-self: center" routerLink="/"
          >richRSS</ion-col
        >
        <ion-col size="2"></ion-col>
        <ion-col size="5">
          <ion-searchbar
            color="light"
            style="--border-radius: 10px"
          ></ion-searchbar>
        </ion-col>
        <ion-col size="2"></ion-col>
      </ion-row>
    </ion-title>

    <ion-buttons slot="end">
      <ion-button color="primary" fill="solid" (click)="openFeedWizard()"
        >Create Feed</ion-button
      >
      <ion-button routerLink="/notifications" *ngIf="authorization.loggedIn">
        <ion-icon name="notifications-outline"></ion-icon>
      </ion-button>
      <ion-button routerLink="/plans" *ngIf="!authorization.loggedIn">
        Plans
      </ion-button>
      <!--      <ion-button> Github </ion-button>-->
      <!--      <ion-button> Status </ion-button>-->
      <ion-button routerLink="/login" *ngIf="!authorization.loggedIn">
        Login
      </ion-button>

      <ion-select
        #profile
        interface="popover"
        [hidden]="true"
        (ionChange)="handleProfileAction($event)"
      >
        <ion-select-option value="profile">Profile</ion-select-option>
        <ion-select-option value="logout" class="logout"
          >Logout</ion-select-option
        >
      </ion-select>
      <ion-button (click)="profile.open($event)" *ngIf="authorization.loggedIn">
        <ion-icon name="person-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-toolbar
    color="warning"
    *ngIf="showNotifications && hasPendingWizardState()"
  >
    <p class="ion-margin-horizontal">
      You started creating a feed but did not finish
    </p>
    <ion-buttons slot="end">
      <ion-button (click)="deletePendingWizardState()">
        <ion-icon slot="start" name="trash-outline"></ion-icon>
        Ignore
      </ion-button>
      <ion-button *ngIf="!authorization.loggedIn" routerLink="/login">
        <ion-icon slot="start" name="refresh-outline"></ion-icon>
        Login and Resume
      </ion-button>
      <ion-button *ngIf="authorization.loggedIn" (click)="resumeWizard()">
        <ion-icon slot="start" name="refresh-outline"></ion-icon>
        Resume
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
