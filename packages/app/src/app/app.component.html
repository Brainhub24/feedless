<ion-app>
  <ion-split-pane contentId="main-content">
    <ion-menu contentId="main-content" type="overlay">
      <ion-content>
        <ion-list id="folders">
          <ion-item-divider style="--background: transparent">
            Notebooks
          </ion-item-divider>

          <ion-menu-toggle
            auto-hide="false"
            *ngFor="let notebook of getNotebooks(); let i = index"
          >
            <ion-item
              routerDirection="root"
              [routerLink]="'/folder/' + notebook.id"
              lines="none"
              detail="false"
              routerLinkActive="selected"
            >
              <ion-label class="ion-text-capitalize">{{
                notebook.name
              }}</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>
        <ion-list id="groups">
          <ion-item-divider style="--background: transparent">
            Buckets
            <ion-button
              slot="end"
              size="small"
              color="primary"
              (click)="createBucket()"
              >New Bucket</ion-button
            >
          </ion-item-divider>

          <ion-menu-toggle
            auto-hide="false"
            *ngFor="let bucket of buckets; let i = index"
          >
            <ion-item
              [routerLink]="'/bucket/' + bucket.id"
              [lines]="i + 1 == buckets.length ? 'full' : 'none'"
              detail="false"
              routerLinkActive="selected"
            >
              <ion-label>
                <h3>
                  {{ bucket.title }}
                  <app-bubble
                    color="red"
                    *ngIf="bucketRequiresAction(bucket)"
                  ></app-bubble>
                </h3>
                <p *ngIf="bucket.listed">{{ bucket.description }}</p>
              </ion-label>

              <ion-icon
                *ngIf="bucket.listed"
                name="logo-rss"
                size="small"
                slot="end"
              ></ion-icon>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>
      </ion-content>
    </ion-menu>
    <div id="main-content">
      <ion-router-outlet></ion-router-outlet>
    </div>
  </ion-split-pane>
</ion-app>
